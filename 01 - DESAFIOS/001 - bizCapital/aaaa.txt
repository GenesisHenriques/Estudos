const axios = require('axios');

module.exports = async (req, res, next) => {
  try {
    const { city } = req.params;
    console.log(city);

    const { data: { main }} = await axios({
      method: "get",
      url: "https://api.openweathermap.org/data/2.5/weather?q=juiz%20de%20fora&appid=722c93803db93e48d25064261fa59cb0",
    });
    console.log(parseInt(main.temp - 273.15));
    next()
  } catch (error) {
    next(error);
  }
};